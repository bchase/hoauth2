<html>
    <head>
        <link href="/main.css" rel="stylesheet"/>
    </head>
    <body>
        <h1>Hello OAuth2</h1>
        {{#idps}}
        <section class="login-with">

            {{^isLogin}}
            <a href="{{codeFlowUri}}">Login {{name}}</a>
            {{/isLogin}}

            {{#isLogin}}
            <h2>welcome to {{name}}</h2>
            {{#user}}
            <div class="result">Hello, {{name}}</div>
            {{/user}}
            <a href="/logout?idp={{name}}">Logout</a>
            {{/isLogin}}

        </section>
        {{/idps}}
        <h3>Notes</h3>
        <ol>
            <li>for StackExchange, the callback domain is localhost, have manually add port 9988.</li>
            <li>FIXME: linkedin fetch user failure
                <quote>then token used in this request has been revoked by the user</quote>
            </li>
        </ol>
        </p>
    </body>
</html>
